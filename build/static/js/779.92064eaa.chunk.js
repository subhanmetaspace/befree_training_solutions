"use strict";(self.webpackChunkedtech=self.webpackChunkedtech||[]).push([[779],{4779(e,s,t){t.r(s),t.d(s,{default:()=>h});var a=t(5043),r=t(3216),i=t(3390),n=t(2264),l=t(556),d=t(1140),c=t(5830),o=t(5469),m=t(2626),p=t(9722),u=t(579);const h=()=>{const[e,s]=(0,a.useState)(1),[t,h]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[g,w]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),j=(0,r.Zp)(),{toast:b}=(0,c.dj)(),N="https://backend.befreetraining.net/api/v1";return(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary p-4",children:(0,u.jsxs)("div",{className:"w-full max-w-md",children:[(0,u.jsx)("div",{className:"flex justify-center mb-8",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-hero flex items-center justify-center",children:(0,u.jsx)(m.A,{className:"w-7 h-7 text-primary-foreground"})}),(0,u.jsx)("span",{className:"text-2xl font-bold text-foreground",children:"BeFree"})]})}),(0,u.jsxs)(d.Zp,{children:[(0,u.jsxs)(d.aR,{children:[(0,u.jsx)(d.ZB,{children:1===e?"Forgot Password":2===e?"Verify OTP":"Reset Password"}),(0,u.jsxs)(d.BT,{children:[1===e&&"Enter your email to receive an OTP",2===e&&"Enter the OTP sent to ".concat(t),3===e&&"Enter your new password"]})]}),(0,u.jsxs)(d.Wu,{children:[1===e&&(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{const e=await p.A.post("".concat(N,"/user/forgot-password"),{email:t});b({title:"OTP Sent",description:e.data.message}),s(2)}catch(i){var a,r;b({title:"Error",description:(null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||i.message||"Something went wrong",variant:"destructive"})}finally{y(!1)}},className:"space-y-4",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(l.J,{htmlFor:"email",children:"Email"}),(0,u.jsx)(n.p,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:e=>h(e.target.value),required:!0})]}),(0,u.jsx)(i.$,{type:"submit",className:"w-full",disabled:f,children:f?"Sending...":"Send OTP"})]}),2===e&&(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{const e=await p.A.post("".concat(N,"/user/verify-forgot-otp"),{email:t,otp:v});b({title:"OTP Verified",description:e.data.message}),s(3)}catch(i){var a,r;b({title:"Error",description:(null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||i.message||"Invalid OTP",variant:"destructive"})}finally{y(!1)}},className:"space-y-4",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(l.J,{htmlFor:"otp",children:"OTP"}),(0,u.jsx)(n.p,{id:"otp",type:"text",placeholder:"Enter OTP",value:v,onChange:e=>x(e.target.value),required:!0,maxLength:6})]}),(0,u.jsx)(i.$,{type:"submit",className:"w-full",disabled:f,children:f?"Verifying...":"Verify OTP"})]}),3===e&&(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{const e=await p.A.post("".concat(N,"/user/reset-password"),{email:t,otp:v,new_password:g});b({title:"Password Reset",description:e.data.message}),j("/auth")}catch(r){var s,a;b({title:"Error",description:(null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||r.message||"Something went wrong",variant:"destructive"})}finally{y(!1)}},className:"space-y-4",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(l.J,{htmlFor:"new-password",children:"New Password"}),(0,u.jsx)(n.p,{id:"new-password",type:"password",placeholder:"Enter new password",value:g,onChange:e=>w(e.target.value),required:!0})]}),(0,u.jsx)(i.$,{type:"submit",className:"w-full",disabled:f,children:f?"Resetting...":"Reset Password"})]}),(0,u.jsxs)(i.$,{type:"button",variant:"ghost",className:"w-full gap-2 mt-4",onClick:()=>j("/auth"),children:[(0,u.jsx)(o.A,{className:"w-4 h-4"}),"Back to Sign In"]})]})]})]})})}}}]);
//# sourceMappingURL=779.92064eaa.chunk.js.map