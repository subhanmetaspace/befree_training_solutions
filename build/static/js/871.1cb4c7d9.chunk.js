"use strict";(self.webpackChunkedtech=self.webpackChunkedtech||[]).push([[871],{2224(e,t,n){n.d(t,{tU:()=>ue,av:()=>fe,j7:()=>de,Xi:()=>pe});var a=n(2555),s=n(3986),o=n(5043),r=n(858),i=n(1862),l=n(7103),c=n(2814),u=n(4490),d=n(7914),p=n(7490),f=n(3642),v=n(4204),m=n(579);const g=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],h=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var b="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},y="RovingFocusGroup",[j,w,A]=(0,l.N)(y),[T,N]=(0,i.A)(y,[A]),[C,F]=T(y),S=o.forwardRef((e,t)=>(0,m.jsx)(j.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(j.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(I,(0,a.A)((0,a.A)({},e),{},{ref:t}))})}));S.displayName=y;var I=o.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:l=!1,dir:u,currentTabStopId:h,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:A,onEntryFocus:T,preventScrollOnEntryFocus:N=!1}=e,F=(0,s.A)(e,g),S=o.useRef(null),I=(0,c.s)(t,S),R=(0,v.jH)(u),[_,k]=(0,f.i)({prop:h,defaultProp:null!==j&&void 0!==j?j:null,onChange:A,caller:y}),[E,P]=o.useState(!1),K=(0,p.c)(T),G=w(n),O=o.useRef(!1),[M,V]=o.useState(0);return o.useEffect(()=>{const e=S.current;if(e)return e.addEventListener(b,K),()=>e.removeEventListener(b,K)},[K]),(0,m.jsx)(C,{scope:n,orientation:i,dir:R,loop:l,currentTabStopId:_,onItemFocus:o.useCallback(e=>k(e),[k]),onItemShiftTab:o.useCallback(()=>P(!0),[]),onFocusableItemAdd:o.useCallback(()=>V(e=>e+1),[]),onFocusableItemRemove:o.useCallback(()=>V(e=>e-1),[]),children:(0,m.jsx)(d.sG.div,(0,a.A)((0,a.A)({tabIndex:E||0===M?-1:0,"data-orientation":i},F),{},{ref:I,style:(0,a.A)({outline:"none"},e.style),onMouseDown:(0,r.mK)(e.onMouseDown,()=>{O.current=!0}),onFocus:(0,r.mK)(e.onFocus,e=>{const t=!O.current;if(e.target===e.currentTarget&&t&&!E){const t=new CustomEvent(b,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=G().filter(e=>e.focusable);D([e.find(e=>e.active),e.find(e=>e.id===_),...e].filter(Boolean).map(e=>e.ref.current),N)}}O.current=!1}),onBlur:(0,r.mK)(e.onBlur,()=>P(!1))}))})}),R="RovingFocusGroupItem",_=o.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:l=!1,tabStopId:c,children:p}=e,f=(0,s.A)(e,h),v=(0,u.B)(),g=c||v,b=F(R,n),x=b.currentTabStopId===g,y=w(n),{onFocusableItemAdd:A,onFocusableItemRemove:T,currentTabStopId:N}=b;return o.useEffect(()=>{if(i)return A(),()=>T()},[i,A,T]),(0,m.jsx)(j.ItemSlot,{scope:n,id:g,focusable:i,active:l,children:(0,m.jsx)(d.sG.span,(0,a.A)((0,a.A)({tabIndex:x?0:-1,"data-orientation":b.orientation},f),{},{ref:t,onMouseDown:(0,r.mK)(e.onMouseDown,e=>{i?b.onItemFocus(g):e.preventDefault()}),onFocus:(0,r.mK)(e.onFocus,()=>b.onItemFocus(g)),onKeyDown:(0,r.mK)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void b.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const a=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(a)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)?void 0:k[a]}(e,b.orientation,b.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const o=s.indexOf(e.currentTarget);s=b.loop?(a=o+1,(n=s).map((e,t)=>n[(a+t)%n.length])):s.slice(o+1)}setTimeout(()=>D(s))}var n,a}),children:"function"===typeof p?p({isCurrentTabStop:x,hasTabStop:null!=N}):p}))})});_.displayName=R;var k={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.activeElement;for(const a of e){if(a===n)return;if(a.focus({preventScroll:t}),document.activeElement!==n)return}}var E=S,P=_,K=n(2894);const G=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],O=["__scopeTabs","loop"],M=["__scopeTabs","value","disabled"],V=["__scopeTabs","value","forceMount","children"];var L="Tabs",[U,q]=(0,i.A)(L,[N]),B=N(),[J,H]=U(L),$=o.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:p="automatic"}=e,g=(0,s.A)(e,G),h=(0,v.jH)(c),[b,x]=(0,f.i)({prop:o,onChange:r,defaultProp:null!==i&&void 0!==i?i:"",caller:L});return(0,m.jsx)(J,{scope:n,baseId:(0,u.B)(),value:b,onValueChange:x,orientation:l,dir:h,activationMode:p,children:(0,m.jsx)(d.sG.div,(0,a.A)((0,a.A)({dir:h,"data-orientation":l},g),{},{ref:t}))})});$.displayName=L;var W="TabsList",X=o.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0}=e,r=(0,s.A)(e,O),i=H(W,n),l=B(n);return(0,m.jsx)(E,(0,a.A)((0,a.A)({asChild:!0},l),{},{orientation:i.orientation,dir:i.dir,loop:o,children:(0,m.jsx)(d.sG.div,(0,a.A)((0,a.A)({role:"tablist","aria-orientation":i.orientation},r),{},{ref:t}))}))});X.displayName=W;var Z="TabsTrigger",z=o.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:i=!1}=e,l=(0,s.A)(e,M),c=H(Z,n),u=B(n),p=ee(c.baseId,o),f=te(c.baseId,o),v=o===c.value;return(0,m.jsx)(P,(0,a.A)((0,a.A)({asChild:!0},u),{},{focusable:!i,active:v,children:(0,m.jsx)(d.sG.button,(0,a.A)((0,a.A)({type:"button",role:"tab","aria-selected":v,"aria-controls":f,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:p},l),{},{ref:t,onMouseDown:(0,r.mK)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(o)}),onKeyDown:(0,r.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(o)}),onFocus:(0,r.mK)(e.onFocus,()=>{const e="manual"!==c.activationMode;v||i||!e||c.onValueChange(o)})}))}))});z.displayName=Z;var Y="TabsContent",Q=o.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:l}=e,c=(0,s.A)(e,V),u=H(Y,n),p=ee(u.baseId,r),f=te(u.baseId,r),v=r===u.value,g=o.useRef(v);return o.useEffect(()=>{const e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(K.C,{present:i||v,children:n=>{let{present:s}=n;return(0,m.jsx)(d.sG.div,(0,a.A)((0,a.A)({"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!s,id:f,tabIndex:0},c),{},{ref:t,style:(0,a.A)((0,a.A)({},e.style),{},{animationDuration:g.current?"0s":void 0}),children:s&&l}))}})});function ee(e,t){return"".concat(e,"-trigger-").concat(t)}function te(e,t){return"".concat(e,"-content-").concat(t)}Q.displayName=Y;var ne=$,ae=X,se=z,oe=Q,re=n(9766);const ie=["className"],le=["className"],ce=["className"],ue=ne,de=o.forwardRef((e,t)=>{let{className:n}=e,o=(0,s.A)(e,ie);return(0,m.jsx)(ae,(0,a.A)({ref:t,className:(0,re.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n)},o))});de.displayName="TabsList";const pe=o.forwardRef((e,t)=>{let{className:n}=e,o=(0,s.A)(e,le);return(0,m.jsx)(se,(0,a.A)({ref:t,className:(0,re.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n)},o))});pe.displayName="TabsTrigger";const fe=o.forwardRef((e,t)=>{let{className:n}=e,o=(0,s.A)(e,ce);return(0,m.jsx)(oe,(0,a.A)({ref:t,className:(0,re.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n)},o))});fe.displayName="TabsContent"},4204(e,t,n){n.d(t,{jH:()=>o});var a=n(5043),s=(n(579),a.createContext(void 0));function o(e){const t=a.useContext(s);return e||t||"ltr"}},8871(e,t,n){n.r(t),n.d(t,{default:()=>g});var a=n(5043),s=n(3216),o=n(9722),r=n(3390),i=n(2264),l=n(556),c=n(1140),u=n(2224),d=n(5830),p=n(2024),f=n(2626),v=n(5187),m=n(579);const g=()=>{const[e,t]=(0,a.useState)(""),[n,g]=(0,a.useState)(""),[h,b]=(0,a.useState)(""),[x,y]=(0,a.useState)(1),[j,w]=(0,a.useState)(""),[A,T]=(0,a.useState)(!1),N=(0,s.Zp)(),{toast:C}=(0,d.dj)(),{saveToken:F,token:S}=(0,a.useContext)(v.c),I="https://backend.befreetraining.net/api/v1";(0,a.useEffect)(()=>{S&&N("/profile")},[S]);return(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary p-4",children:(0,m.jsxs)("div",{className:"w-full max-w-md",children:[(0,m.jsx)("div",{className:"flex justify-center mb-8",children:(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-hero flex items-center justify-center",children:(0,m.jsx)(f.A,{className:"w-7 h-7 text-primary-foreground"})}),(0,m.jsx)("span",{className:"text-2xl font-bold text-foreground",children:"BeFree"})]})}),(0,m.jsxs)(c.Zp,{children:[(0,m.jsxs)(c.aR,{children:[(0,m.jsx)(c.ZB,{children:2===x?"OTP Verification":"Welcome"}),(0,m.jsx)(c.BT,{children:2===x?"Enter the OTP sent to ".concat(e):"Sign in to your account or create a new one"})]}),(0,m.jsx)(c.Wu,{children:2===x?(0,m.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),T(!0);try{await o.A.post("".concat(I,"/user/verify"),{email:e,otp:j}),C({title:"Verified!",description:"Your account has been verified successfully."}),N("/profile")}catch(s){var n,a;C({variant:"destructive",title:"OTP Error",description:(null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||s.message||"Invalid OTP"})}finally{T(!1)}},className:"space-y-4",children:[(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsx)(l.J,{htmlFor:"otp",children:"OTP"}),(0,m.jsx)(i.p,{id:"otp",type:"text",placeholder:"Enter OTP",value:j,onChange:e=>w(e.target.value),required:!0,maxLength:6})]}),(0,m.jsx)(r.$,{type:"submit",className:"w-full",disabled:A,children:A?"Verifying...":"Verify OTP"})]}):(0,m.jsxs)(u.tU,{defaultValue:"signin",className:"w-full",children:[(0,m.jsxs)(u.j7,{className:"grid w-full grid-cols-2",children:[(0,m.jsx)(u.Xi,{value:"signin",children:"Sign In"}),(0,m.jsx)(u.Xi,{value:"signup",children:"Sign Up"})]}),(0,m.jsx)(u.av,{value:"signin",children:(0,m.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),T(!0);try{var a,s,r;const t=(()=>{const e=navigator.userAgent;return/mobile/i.test(e)?"Mobile":/tablet/i.test(e)?"Tablet":"Desktop"})(),i=await(async()=>new Promise(e=>{if(!navigator.geolocation)return e("Unknown");navigator.geolocation.getCurrentPosition(t=>e("".concat(t.coords.latitude,",").concat(t.coords.longitude)),()=>e("Unknown"))}))(),l=await o.A.post("".concat(I,"/user/login"),{email:e,password:n,device:t,location:i}),c=null===l||void 0===l||null===(a=l.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.token,u=null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.isOtp;c&&F(c),u?(C({title:"OTP Required",description:"Please enter the OTP sent to your email."}),y(2)):(C({title:"Welcome back!",description:"You have successfully signed in."}),N("/profile"))}catch(c){var i,l;C({variant:"destructive",title:"Sign in failed",description:(null===(i=c.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||c.message||"Invalid credentials"})}finally{T(!1)}},className:"space-y-4",children:[(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsx)(l.J,{htmlFor:"signin-email",children:"Email"}),(0,m.jsx)(i.p,{id:"signin-email",type:"email",placeholder:"you@example.com",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsx)(l.J,{htmlFor:"signin-password",children:"Password"}),(0,m.jsx)(i.p,{id:"signin-password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:n,onChange:e=>g(e.target.value),required:!0})]}),(0,m.jsx)(r.$,{type:"button",variant:"link",className:"px-0 text-sm",onClick:()=>N("/forgot-password"),children:"Forgot password?"}),(0,m.jsx)(r.$,{type:"submit",className:"w-full",disabled:A,children:A?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),(0,m.jsx)(u.av,{value:"signup",children:(0,m.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),T(!0);try{await o.A.post("".concat(I,"/user/register"),{full_name:h,email:e,password:n});C({title:"Success!",description:"Account created successfully. Please verify your email via OTP."}),y(2)}catch(r){var a,s;C({variant:"destructive",title:"Sign up failed",description:(null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||r.message||"Unable to create account"})}finally{T(!1)}},className:"space-y-4",children:[(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsx)(l.J,{htmlFor:"signup-name",children:"Full Name"}),(0,m.jsx)(i.p,{id:"signup-name",type:"text",placeholder:"John Doe",value:h,onChange:e=>b(e.target.value),required:!0})]}),(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsx)(l.J,{htmlFor:"signup-email",children:"Email"}),(0,m.jsx)(i.p,{id:"signup-email",type:"email",placeholder:"you@example.com",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,m.jsxs)("div",{className:"space-y-2",children:[(0,m.jsx)(l.J,{htmlFor:"signup-password",children:"Password"}),(0,m.jsx)(i.p,{id:"signup-password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:n,onChange:e=>g(e.target.value),required:!0})]}),(0,m.jsx)(r.$,{type:"submit",className:"w-full",disabled:A,children:A?"Creating account...":"Create Account"})]})})]})})]})]})})}}}]);
//# sourceMappingURL=871.1cb4c7d9.chunk.js.map