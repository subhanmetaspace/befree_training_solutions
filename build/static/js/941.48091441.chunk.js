/*! For license information please see 941.48091441.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkedtech=self.webpackChunkedtech||[]).push([[941],{941(e,s,t){t.r(s),t.d(s,{default:()=>p});var a=t(5043),n=t(3216),l=t(9722),r=t(6074),c=t(6990),i=t(1140),d=t(3390),o=t(2024),m=t(6833),x=t(5692);const u=(0,t(7784).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var h=t(5327),f=t(6245),j=t(579);const p=()=>{const e=(0,n.Zp)(),s=new URLSearchParams((0,n.zy)().search).get("orderId"),[t,p]=(0,a.useState)(!0),[y,g]=(0,a.useState)(null),[b,v]=(0,a.useState)(null);if((0,a.useEffect)(()=>{const e=async()=>{if(s)try{var e;const t=await l.A.get("".concat("https://backend.befreetraining.net/api/v1","/orders/").concat(s,"/verify"));null!==(e=t.data)&&void 0!==e&&e.success&&g(t.data.data)}catch(t){console.error(t),v("Unable to verify payment status")}finally{p(!1)}else p(!1)};e();const t=setInterval(e,5e3);return()=>clearInterval(t)},[s]),t)return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.A,{}),(0,j.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-background to-muted/50 pt-24 pb-12 flex items-center justify-center",children:(0,j.jsxs)(i.Zp,{className:"p-12 text-center max-w-md",children:[(0,j.jsx)(o.A,{className:"w-16 h-16 animate-spin text-primary mx-auto mb-6"}),(0,j.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Verifying Payment"}),(0,j.jsx)("p",{className:"text-muted-foreground",children:"Please wait while we confirm your payment..."})]})}),(0,j.jsx)(c.A,{})]});const N="paid"===(null===y||void 0===y?void 0:y.status)||"CAPTURED"===(null===y||void 0===y?void 0:y.paymentStatus),w="awaiting_payment"===(null===y||void 0===y?void 0:y.status)||"processing"===(null===y||void 0===y?void 0:y.status);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.A,{}),(0,j.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-background to-muted/50 pt-24 pb-12",children:(0,j.jsx)("div",{className:"container mx-auto px-4 max-w-2xl",children:(0,j.jsx)(i.Zp,{className:"p-8 md:p-12 text-center",children:N?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:(0,j.jsx)(m.A,{className:"w-12 h-12 text-green-600"})}),(0,j.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Payment Successful!"}),(0,j.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Thank you for your purchase. Your order has been confirmed."}),(0,j.jsxs)("div",{className:"bg-muted/50 rounded-lg p-6 mb-8 text-left",children:[(0,j.jsx)("h3",{className:"font-semibold mb-4",children:"Order Details"}),(0,j.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"Order ID"}),(0,j.jsxs)("span",{className:"font-mono",children:[null===s||void 0===s?void 0:s.slice(0,8),"..."]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"Amount"}),(0,j.jsxs)("span",{className:"font-semibold",children:[null===y||void 0===y?void 0:y.amount," ",(null===y||void 0===y?void 0:y.currency)||"AED"]})]}),(null===y||void 0===y?void 0:y.cardBrand)&&(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"Payment Method"}),(0,j.jsxs)("span",{children:[y.cardBrand," ****",y.cardLastFour]})]})]})]}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,j.jsxs)(d.$,{onClick:()=>e("/my-classes"),className:"gap-2",children:["Go to My Classes ",(0,j.jsx)(x.A,{className:"w-4 h-4"})]}),(0,j.jsxs)(d.$,{variant:"outline",className:"gap-2",children:[(0,j.jsx)(u,{className:"w-4 h-4"})," Download Receipt"]})]}),(0,j.jsxs)("p",{className:"text-sm text-muted-foreground mt-6 flex items-center justify-center gap-2",children:[(0,j.jsx)(h.A,{className:"w-4 h-4"}),"A confirmation email has been sent to your inbox"]})]}):w?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"w-20 h-20 rounded-full bg-yellow-100 flex items-center justify-center mx-auto mb-6",children:(0,j.jsx)(o.A,{className:"w-12 h-12 text-yellow-600 animate-spin"})}),(0,j.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Payment Processing"}),(0,j.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Your payment is being processed. This may take a moment."}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"This page will automatically update when your payment is confirmed."})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"w-20 h-20 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-6",children:(0,j.jsx)(f.A,{className:"w-12 h-12 text-red-600"})}),(0,j.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Payment Failed"}),(0,j.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:b||"We couldn't process your payment. Please try again."}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,j.jsx)(d.$,{onClick:()=>e("/plans"),children:"Try Again"}),(0,j.jsx)(d.$,{variant:"outline",onClick:()=>e("/help-center"),children:"Contact Support"})]})]})})})}),(0,j.jsx)(c.A,{})]})}},5327(e,s,t){t.d(s,{A:()=>a});const a=(0,t(7784).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6245(e,s,t){t.d(s,{A:()=>a});const a=(0,t(7784).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}}]);
//# sourceMappingURL=941.48091441.chunk.js.map