{"version":3,"file":"static/js/779.92064eaa.chunk.js","mappings":"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","sources":["pages/ForgotPassword.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"../components/ui/button\";\nimport { Input } from \"../components/ui/input\";\nimport { Label } from \"../components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"../components/ui/card\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { BookOpen, ArrowLeft } from \"lucide-react\";\nimport axios from \"axios\";\n\nconst ForgotPassword = () => {\n  const [step, setStep] = useState(1); // 1 = enter email, 2 = verify OTP, 3 = reset password\n  const [email, setEmail] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const { toast } = useToast();\n  const API_BASE = process.env.REACT_APP_API_BACKEND;\n\n  const handleSendOtp = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await axios.post(`${API_BASE}/user/forgot-password`, { email });\n      toast({\n        title: \"OTP Sent\",\n        description: res.data.message,\n      });\n      setStep(2);\n    } catch (err) {\n      toast({\n        title: \"Error\",\n        description: err.response?.data?.message || err.message || \"Something went wrong\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerifyOtp = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await axios.post(`${API_BASE}/user/verify-forgot-otp`, { email, otp });\n      toast({\n        title: \"OTP Verified\",\n        description: res.data.message,\n      });\n      setStep(3);\n    } catch (err) {\n      toast({\n        title: \"Error\",\n        description: err.response?.data?.message || err.message || \"Invalid OTP\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResetPassword = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await axios.post(`${API_BASE}/user/reset-password`, { email, otp, new_password: newPassword });\n      toast({\n        title: \"Password Reset\",\n        description: res.data.message,\n      });\n      navigate(\"/auth\");\n    } catch (err) {\n      toast({\n        title: \"Error\",\n        description: err.response?.data?.message || err.message || \"Something went wrong\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"flex justify-center mb-8\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-12 h-12 rounded-lg bg-gradient-hero flex items-center justify-center\">\n              <BookOpen className=\"w-7 h-7 text-primary-foreground\" />\n            </div>\n            <span className=\"text-2xl font-bold text-foreground\">BeFree</span>\n          </div>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>\n              {step === 1\n                ? \"Forgot Password\"\n                : step === 2\n                ? \"Verify OTP\"\n                : \"Reset Password\"}\n            </CardTitle>\n            <CardDescription>\n              {step === 1 && \"Enter your email to receive an OTP\"}\n              {step === 2 && `Enter the OTP sent to ${email}`}\n              {step === 3 && \"Enter your new password\"}\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent>\n            {step === 1 && (\n              <form onSubmit={handleSendOtp} className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"you@example.com\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                  {loading ? \"Sending...\" : \"Send OTP\"}\n                </Button>\n              </form>\n            )}\n\n            {step === 2 && (\n              <form onSubmit={handleVerifyOtp} className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"otp\">OTP</Label>\n                  <Input\n                    id=\"otp\"\n                    type=\"text\"\n                    placeholder=\"Enter OTP\"\n                    value={otp}\n                    onChange={(e) => setOtp(e.target.value)}\n                    required\n                    maxLength={6}\n                  />\n                </div>\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                  {loading ? \"Verifying...\" : \"Verify OTP\"}\n                </Button>\n              </form>\n            )}\n\n            {step === 3 && (\n              <form onSubmit={handleResetPassword} className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-password\">New Password</Label>\n                  <Input\n                    id=\"new-password\"\n                    type=\"password\"\n                    placeholder=\"Enter new password\"\n                    value={newPassword}\n                    onChange={(e) => setNewPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                  {loading ? \"Resetting...\" : \"Reset Password\"}\n                </Button>\n              </form>\n            )}\n\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              className=\"w-full gap-2 mt-4\"\n              onClick={() => navigate(\"/auth\")}\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back to Sign In\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n"],"names":["ForgotPassword","step","setStep","useState","email","setEmail","otp","setOtp","newPassword","setNewPassword","loading","setLoading","navigate","useNavigate","toast","useToast","API_BASE","process","_jsx","className","children","_jsxs","BookOpen","Card","CardHeader","CardTitle","CardDescription","concat","CardContent","onSubmit","async","e","preventDefault","res","axios","post","title","description","data","message","err","_err$response","_err$response$data","response","variant","Label","htmlFor","Input","id","type","placeholder","value","onChange","target","required","Button","disabled","_err$response2","_err$response2$data","maxLength","new_password","_err$response3","_err$response3$data","onClick","ArrowLeft"],"ignoreList":[],"sourceRoot":""}